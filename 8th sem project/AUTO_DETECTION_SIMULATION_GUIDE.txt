â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      AUTO-DETECTION SIMULATION MODE - COMPLETE GUIDE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ WHAT IS AUTO-DETECTION MODE?

Instead of manually selecting an anomaly type (like "Rate Spike" or "Payload 
Abuse"), the system now generates realistic mixed traffic patterns and lets 
the ML models automatically detect and classify anomalies in real-time.

This simulates a real-world scenario where you don't know what type of attack 
or anomaly will occur - the detection system must identify it autonomously.


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ HOW IT WORKS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. USER SELECTS ONLY:
   âœ… Virtual Endpoint (e.g., /sim/login, /sim/payment)
   âœ… Duration (60 seconds by default)
   âœ… Requests per window (10 by default)
   
   âŒ NO Anomaly Type Selection (ML models determine this!)


2. TRAFFIC GENERATOR:
   The system generates mixed traffic with realistic patterns:
   
   Pattern Distribution:
   â€¢ 40% - Normal baseline traffic (200 status, typical latency)
   â€¢ 15% - Rate burst patterns (3x requests, 429/503 errors)
   â€¢ 15% - Large payload variations (8-50KB payloads, 413 errors)
   â€¢ 10% - Error-prone patterns (75% error rate, 400/401/403/404/500)
   â€¢ 10% - Bot-like behavior (repeated params, same user-agent)
   â€¢ 10% - Mixed/random combinations


3. SLIDING WINDOW DETECTION:
   â€¢ Every 10 requests = 1 window
   â€¢ ML inference runs ONCE per window (not per request)
   â€¢ Models analyze aggregated features:
     - Request rate patterns
     - Payload size distributions
     - Error rate clustering
     - Parameter repetition
     - Response time anomalies


4. EPISODE COUNTING:
   â€¢ Anomaly count increments per EPISODE, not per window
   â€¢ Episode = consecutive windows with same anomaly type
   â€¢ Example:
     Window 1-5: RATE_SPIKE detected â†’ 1 episode
     Window 6: Normal traffic â†’ episode ends
     Window 7-10: PAYLOAD_ABUSE detected â†’ 2nd episode (different type)
     Window 11-15: PAYLOAD_ABUSE continues â†’ still 2nd episode (same type)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ HOW TO USE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STEP 1: Switch to Simulation Mode
        Click the "SIMULATION" tab on the dashboard

STEP 2: Select Virtual Endpoint
        Choose from:
        â€¢ ğŸ” /sim/login
        â€¢ ğŸ” /sim/search
        â€¢ ğŸ‘¤ /sim/profile
        â€¢ ğŸ’³ /sim/payment
        â€¢ ğŸ“ /sim/signup

STEP 3: Click "â–¶ï¸ Start Auto-Detection"
        (No need to select anomaly type!)

STEP 4: Monitor Real-Time Results
        Watch the dashboard update every 2 seconds with:
        â€¢ Total requests processed
        â€¢ Windows analyzed
        â€¢ Anomaly episodes detected
        â€¢ ML-detected anomaly types
        â€¢ Risk scores and predictions


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š DASHBOARD METRICS EXPLAINED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SIMULATION STATS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Endpoint            â”‚ Currently simulated virtual endpoint                 â”‚
â”‚ Detected Types      â”‚ Number of unique anomaly types found by ML models    â”‚
â”‚ Episodes            â”‚ Count of anomaly episodes (not individual windows)   â”‚
â”‚ Total Requests      â”‚ All requests generated (normal + anomalous)          â”‚
â”‚ Windows Processed   â”‚ Number of 10-request windows analyzed                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ENDPOINT ANOMALY CHART (4 Views):
1. Anomalies by Virtual Endpoint - Bar chart showing distribution
2. Risk Score Timeline - Line chart of risk scores over last 50 windows
3. Anomaly Type Distribution - Bar chart of detected anomaly categories
4. Top Risk Endpoints - Ranked list of highest-risk endpoints (top 5)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” ML DETECTION METHODS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

The system uses 4 ML models that vote on anomaly classification:

1. ISOLATION FOREST
   â€¢ Detects outliers in multi-dimensional feature space
   â€¢ Good for unusual traffic patterns
   â€¢ Detection method: "isolation_forest"

2. K-MEANS CLUSTERING
   â€¢ Groups similar traffic patterns
   â€¢ Identifies deviations from normal clusters
   â€¢ Detection method: "kmeans_cluster"

3. LOGISTIC REGRESSION
   â€¢ Binary classification (normal vs anomaly)
   â€¢ Fast prediction, high accuracy
   â€¢ Detection method: "logistic_regression"

4. FAILURE PREDICTOR
   â€¢ Predicts likelihood of request failure
   â€¢ Specialized for error pattern detection
   â€¢ Detection method: "failure_predictor"

FINAL DETECTION:
â€¢ Majority vote from all models
â€¢ Risk score aggregated from all predictions
â€¢ Priority level: LOW, MEDIUM, HIGH, CRITICAL


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ˆ EXAMPLE SIMULATION OUTPUT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¬ SIMULATION STARTED: /sim/login (60 seconds, 10 req/window)

Window 1: ML Detected: NORMAL (Risk: 0.12, Priority: LOW)
Window 2: ML Detected: RATE_SPIKE (Risk: 0.87, Priority: HIGH) â†’ Episode #1
Window 3: ML Detected: RATE_SPIKE (Risk: 0.92, Priority: HIGH) â†’ Still Episode #1
Window 4: ML Detected: RATE_SPIKE (Risk: 0.89, Priority: HIGH) â†’ Still Episode #1
Window 5: ML Detected: NORMAL (Risk: 0.15, Priority: LOW)
Window 6: ML Detected: PAYLOAD_ABUSE (Risk: 0.78, Priority: MEDIUM) â†’ Episode #2
Window 7: ML Detected: PAYLOAD_ABUSE (Risk: 0.81, Priority: HIGH) â†’ Still Episode #2
Window 8: ML Detected: NORMAL (Risk: 0.11, Priority: LOW)
Window 9: ML Detected: BOT_PATTERN (Risk: 0.94, Priority: CRITICAL) â†’ Episode #3
Window 10: ML Detected: NORMAL (Risk: 0.09, Priority: LOW)

ğŸ“Š SIMULATION COMPLETED:
   Total Requests: 100
   Windows Processed: 10
   Anomalies Detected: 3 episodes
   Detected Types: ['RATE_SPIKE', 'PAYLOAD_ABUSE', 'BOT_PATTERN']


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš™ï¸ TECHNICAL DETAILS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BACKEND:
â€¢ File: backend/auto_traffic_generator.py
â€¢ Class: AutoDetectionTrafficGenerator
â€¢ Method: generate_traffic(endpoint, count)
â€¢ No pre-labeled anomaly types
â€¢ Realistic traffic patterns with variations

WINDOW MANAGEMENT:
â€¢ File: backend/window_manager.py
â€¢ Window size: 10 requests (configurable)
â€¢ Features extracted: 18 dimensions
  - Request rate, payload size, error rate
  - Response time, parameter count
  - User-agent entropy, endpoint diversity
  - Status code distribution

DETECTION ENGINE:
â€¢ File: backend/inference_enhanced.py
â€¢ Method: predict_anomaly(features)
â€¢ Returns: {is_anomaly, risk_score, priority, detection_method, details}
â€¢ Ensemble voting from 4 models

EPISODE TRACKING:
â€¢ File: backend/app_enhanced.py
â€¢ Function: run_auto_detection_simulation()
â€¢ Logic: if detected_type != last_anomaly_type: episode_count += 1
â€¢ Prevents over-counting sustained anomaly patterns


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ†š OLD MODE VS NEW MODE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

OLD ENDPOINT-SPECIFIC MODE:
âŒ User selects anomaly type (pre-labeled)
âŒ System injects specific anomaly pattern
âŒ ML just detects what was injected (not realistic)
âŒ Anomaly count per request (inflated numbers)

NEW AUTO-DETECTION MODE:
âœ… User selects only endpoint (no type selection)
âœ… System generates mixed realistic traffic
âœ… ML autonomously detects and classifies anomalies
âœ… Anomaly count per episode (accurate tracking)
âœ… More realistic simulation of real-world scenarios


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ› TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ISSUE: "No anomalies detected"
FIX: This is normal if traffic is genuinely normal. The ML models require 
     anomalous patterns to trigger detection. Wait for 5-10 windows for 
     traffic variations to emerge.

ISSUE: "Detected Types shows 0"
FIX: Check if simulation is actually running (Status should show "â— RUNNING").
     Ensure backend is started (python app_enhanced.py).

ISSUE: "Backend ModuleNotFoundError"
FIX: Run: cd backend && pip install -r requirements.txt

ISSUE: "Frontend can't connect to backend"
FIX: Ensure backend is running on port 8000:
     cd backend && python app_enhanced.py
     Check http://localhost:8000/health

ISSUE: "Simulation stats not updating"
FIX: Check browser console for WebSocket connection errors.
     Ensure WebSocket server is running (part of app_enhanced.py).


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“š RELATED FILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Backend:
â€¢ auto_traffic_generator.py - Mixed traffic pattern generator
â€¢ app_enhanced.py - Main API server with /simulation/start endpoint
â€¢ inference_enhanced.py - ML detection engine
â€¢ window_manager.py - Sliding window management
â€¢ detection_engine.py - Model ensemble and voting

Frontend:
â€¢ pages/DashboardEnhanced.tsx - Main dashboard with simulation controls
â€¢ components/EndpointAnomalyChart.tsx - 4-chart visualization
â€¢ hooks/useWebSocket.ts - Real-time updates
â€¢ services/api.ts - API client

Documentation:
â€¢ PROJECT_ARCHITECTURE_COMPLETE.md - Full system architecture
â€¢ IMPLEMENTATION_SUMMARY.md - Implementation details
â€¢ QUICK_START_ENHANCED.md - Getting started guide


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ’¡ BEST PRACTICES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. START SMALL:
   Begin with a single endpoint (/sim/login) to understand the flow

2. MONITOR CHARTS:
   Watch the 4-chart dashboard for visual patterns and trends

3. COMPARE LIVE VS SIMULATION:
   Switch between LIVE and SIMULATION modes to see the difference

4. ANALYZE DETECTED TYPES:
   Look at which anomaly types the ML models find most frequently

5. REVIEW RISK SCORES:
   High risk scores (>0.8) indicate serious anomalies requiring attention

6. CHECK EPISODE PATTERNS:
   Long episodes (many consecutive windows) suggest sustained attacks


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ EDUCATIONAL VALUE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

This auto-detection mode demonstrates:

âœ“ Unsupervised anomaly detection in API traffic
âœ“ Ensemble ML model voting and consensus
âœ“ Sliding window aggregation for time-series analysis
âœ“ Episode-based anomaly counting (avoiding false positives)
âœ“ Real-time inference with sub-second latency
âœ“ Realistic traffic simulation without pre-labeled data
âœ“ Multi-dimensional feature engineering from raw requests


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ QUICK REFERENCE COMMANDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Start Backend:
    cd backend
    python app_enhanced.py

Start Frontend:
    cd frontend
    npm run dev

Test Auto-Detection:
    1. Open http://localhost:3000
    2. Click "SIMULATION" tab
    3. Select endpoint (e.g., /sim/login)
    4. Click "â–¶ï¸ Start Auto-Detection"
    5. Watch dashboard for real-time ML detection

Stop Simulation:
    Click "â¹ï¸ Stop Simulation" button

Check Backend Logs:
    Look at terminal where app_enhanced.py is running
    Shows window-by-window detection results


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
END OF AUTO-DETECTION SIMULATION GUIDE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
